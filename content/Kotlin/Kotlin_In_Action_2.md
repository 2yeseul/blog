---
title: '[Kotlin In Action] 2ì¥ - ì½”í‹€ë¦° ê¸°ì´ˆ'
date: 2021-10-15 00:00:00
description: "ì½”í‹€ë¦° ì¸ ì•¡ì…˜ì„ ì •ë¦¬í•©ë‹ˆë‹¤. "
tags: [Kotlin]
thumbnail: 
---   

# [Kotlin In Action] 2ì¥ - ì½”í‹€ë¦° ê¸°ì´ˆ

# 2.1 í•¨ìˆ˜ì™€ ë³€ìˆ˜ 
> - ì½”í‹€ë¦°ì—ì„œëŠ” íƒ€ì… ì„ ì–¸ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.
> - ì½”í‹€ë¦°ì€ ë³€ê²½ ê°€ëŠ¥í•œ ë°ì´í„° ë³´ë‹¤, ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë¶ˆë³€ ë°ì´í„° ì‚¬ìš©ì„ ê¶Œì¥í•œë‹¤.

## 2.1.2 í•¨ìˆ˜
### ì½”í‹€ë¦°ì˜ í•¨ìˆ˜ ì •ì˜ ë°©ì‹
``` kotlin
fun max(a: Int, b: Int): Int {
    return if (a > b) a else b
}

fun í•¨ìˆ˜ì´ë¦„(íŒŒë¼ë¯¸í„° ëª©ë¡): ë°˜í™˜ íƒ€ì… {
    í•¨ìˆ˜ ë³¸ë¬¸
}
```
### ì‹(expression)ì´ ë³¸ë¬¸ì¸ í•¨ìˆ˜
``` kotlin
fun max(a: Int, b: Int): Int {
    return if (a > b) a else b
}
```
ì´ í•¨ìˆ˜ëŠ”
``` kotlin
fun max(a: Int, b: Int): Int = if (a > b) a else b
```
ì™€ ê°™ì´ ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

ìœ„ì˜ ê²½ìš°ë¥¼ ë¸”ë¡ì´ ë³¸ë¬¸ì¸ í•¨ìˆ˜, ì•„ë˜ì˜ ê²½ìš°(ë“±í˜¸ì™€ ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§„)ë¥¼ ì‹ì´ ë³¸ë¬¸ì¸ í•¨ìˆ˜ë¼ê³  ë¶€ë¥¸ë‹¤.

__ğŸ¤” ë°˜í™˜ íƒ€ì…ì„ ìƒëµí•  ìˆ˜ ìˆëŠ” ì´ìœ ?__
ì‹ì´ ë³¸ë¬¸ì¸ í•¨ìˆ˜ì¸ ê²½ìš° êµ³ì´ ì‚¬ìš©ìê°€ ë°˜í™˜ íƒ€ì…ì„ ì ì§€ ì•Šì•„ë„ ì»´íŒŒì¼ëŸ¬ê°€ í•¨ìˆ˜ ë³¸ë¬¸ ì‹ì„ ë¶„ì„í•´ ì‹ì˜ ê²°ê³¼ íƒ€ì…ì„ í•¨ìˆ˜ ë°˜í™˜ íƒ€ì…ìœ¼ë¡œ ì •í•´ì¤€ë‹¤. ì´ë ‡ê²Œ ì»´íŒŒì¼ëŸ¬ê°€ í”„ë¡œê·¸ë¨ êµ¬ì„± ìš”ì†Œì˜ íƒ€ì…ì„ ì •í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ `íƒ€ì… ì¶”ë¡ ` ì´ë¼ê³  í•œë‹¤.

ë‹¤ë§Œ ìœ ì˜í•´ì•¼ í•  ì ì€ ì‹ì´ ë³¸ë¬¸ì¸ í•¨ìˆ˜ë§Œ ìƒëµ ê±°ëŠ¥í•˜ë‹¤.

## 2.1.3 ë³€ìˆ˜
``` kotlin
val question = "ì§ˆë¬¸"
val answer = 42
var age: Int = 42
```
íƒ€ì… ìƒëµ ê°€ëŠ¥

### ë³€ê²½ ê°€ëŠ¥í•œ ë³€ìˆ˜ì™€ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ë³€ìˆ˜
|val(value)|ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ (immutable) ì°¸ì¡°ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ì´ë©°, ì´ˆê¸°í™” ì´í›„ì—ëŠ” ì¬ëŒ€ì…ì„ í•  ìˆ˜ ì—†ë‹¤. ìë°”ë¡œ ë”°ì§€ë©´ final
|---|---|
|var(variable)|ë³€ê²½ ê°€ëŠ¥í•œ(mutable) ì°¸ì¡°ì´ë‹¤.|

> ê¸°ë³¸ì ìœ¼ë¡œëŠ” ëª¨ë“  ë³€ìˆ˜ë¥¼ `val` ì„ í†µí•´ ì„ ì–¸í•˜ê³ , ê¼­ í•„ìš”í•œ ê²½ìš°ì´ë©´ varë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤. 

`val` ì°¸ì¡° ìì²´ëŠ” ë¶ˆë³€ì´ì–´ë„, ê·¸ ì°¸ì¡°ê°€ ê°€ë¦¬í‚¤ëŠ” ê°ì²´ì˜ ë‚´ë¶€ ê°’ì€ ë³€ê²½ë  ìˆ˜ ìˆë‹¤!

``` kotlin
val languages = arrayListOf("Java")
languages.add("Kotlin")
```

## 2.1.4 ë¬¸ìí˜• í…œí”Œë¦¿

``` kotlin
fun main(args: Array<String>) {
    val name = if (args.size > 0 ) args[0] else "Kotlin"
    println("Hello, $name")
}
``` 
ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ì™€ ë¹„ìŠ·í•˜ê²Œ, ì½”í‹€ë¦° ì—­ì‹œ ë³€ìˆ˜ë¥¼ ë¬¸ìì—´ ë‚´ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

ë¬¸ìì—´ ë¦¬í„°ëŸ´ ë‚´ í•„ìš”í•œ ê³³ì— ë³€ìˆ˜ë¥¼ ë„£ë˜, `$` ë¥¼ ê·¸ ì•ì— ì¶”ê°€í•´ì¤€ë‹¤.

# 2.2 í´ë˜ìŠ¤ì™€ í”„ë¡œí¼í‹°

## ìë°” í´ë˜ìŠ¤ 
``` java
public class Person {
    private final String name;

    public Person(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }
}
```

__ğŸ¤” ìë°” í´ë˜ìŠ¤ ì½”ë“œì˜ ë¬¸ì œì ?__
- í•„ë“œê°€ ë‘˜ ì´ìƒìœ¼ë¡œ ëŠ˜ì–´ë‚˜ë©´ ìƒì„±ìì¸ Personì˜ ë³¸ë¬¸ì—ì„œ, íŒŒë¼ë¯¸í„°ë¥¼ ì´ë¦„ì´ ê°™ì€ í•„ë“œì— ëŒ€ì…í•˜ëŠ” ëŒ€ì…ë¬¸ì˜ ìˆ˜ê°€ ì¦ê°€í•˜ê³ , ì½”ë“œê°€ ë°˜ë³µëœë‹¤.

## ì½”í‹€ë¦° í´ë˜ìŠ¤
``` kotlin
class Person(val name: String)
```
ì´ëŸ° ìœ í˜•ì˜ í´ë˜ìŠ¤(ì½”ë“œ ì—†ì´ ë°ì´í„°ë§Œ ì €ì¥)ë¥¼ `ê°’ ê°ì²´` ë¼ê³  ë¶€ë¥¸ë‹¤.

í•œí¸ ì½”í‹€ë¦°ì˜ ê¸°ë³¸ ê°€ì‹œì„±ì€ publicì´ë¯€ë¡œ ì´ëŸ° ê²½ìš° ë³€ê²½ìë¥¼ ìƒëµí•œë‹¤.

## 2.2.1 í”„ë¡œí¼í‹°
### í´ë˜ìŠ¤ì˜ ëª©ì 
> 1. ë°ì´í„°ì˜ `ìº¡ìŠí™”` 
> 2. ìº¡ìŠí™”í•œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ì½”ë“œë¥¼ í•œ ì£¼ì²´ì— ê°€ë‘”ë‹¤.

__ìë°”ì—ì„œëŠ” ..__
ë°ì´í„°ëŠ” `í•„ë“œ` ì— ì €ì¥í•˜ê³ , ë©¤ë²„ í•„ë“œì˜ ê°€ì‹œì„±ì€ ë³´í†µ ë¹„ê³µê°œì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì ‘ê·¼ì ë©”ì„œë“œ(getter) ë¥¼ ì œê³µí•˜ì—¬ ì´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.

ìë°”ì—ì„œëŠ” í•„ë“œì™€ ì ‘ê·¼ìë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì–´ í”„ë¡œí¼í‹°ë¼ê³  ë¶€ë¥¸ë‹¤.

__ì½”í‹€ë¦°ì—ì„œëŠ” ..__

ì½”í‹€ë¦°ì€ í”„ë¡œí¼í‹°ë¥¼ ì–¸ì–´ ê¸°ë³¸ ê¸°ëŠ¥ìœ¼ë¡œ ì œê³µí•˜ê³ , ì½”í‹€ë¦° í”„ë¡œí¼í‹°ëŠ” ìë°”ì˜ í•„ë“œì™€ ì ‘ê·¼ì ë©”ì„œë“œë¥¼ ì™„ì „íˆ ëŒ€ì‹ í•œë‹¤. 

### í´ë˜ìŠ¤ ì•ˆì—ì„œ ë³€ê²½ ê°€ëŠ¥í•œ í”„ë¡œí¼í‹° ì„ ì–¸í•˜ê¸°
``` kotlin
class Person {
    val name: String,
    var isMarried: Boolean
}
```

- valì„ í†µí•´ ì„ ì–¸í•œ í”„ë¡œí¼í‹°ëŠ” ì½ê¸° ì „ìš© í”„ë¡œí¼í‹°ë¡œ, ì½”í‹€ë¦°ì€ ë¹„ê³µê°œ í•„ë“œì™€ í•„ë“œë¥¼ ì½ëŠ” ê³µê°œ getterë¥¼ ìƒì„±í•œë‹¤.

- varë¥¼ í†µí•´ ì„ ì–¸í•œ í”„ë¡œí¼í‹°ëŠ” ì“¸ ìˆ˜ ìˆëŠ” í”„ë¡œí¼í‹°ë¡œ, getterì™€ setter ë‘˜ë‹¤ ìƒì„±í•œë‹¤.


``` java
Person person = new Person("Anna", true);

System.out.println(person.getName());
System.out.println(person.isMarried());
```

``` kotlin
val person = Person("anna", true)
println(person.name)
println(person.isMarried)
```

ì½”í‹€ë¦°ì—ì„œëŠ” ê²Œí„°ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í”„ë¡œí¼í‹°ë¥¼ ì§ì ‘ ì‚¬ìš©í•œë‹¤.
setter ì—­ì‹œ ìë°”ì—ì„œëŠ”

``` java
person.setMarried(false);
```
ì™€ ê°™ì´ ì‚¬ìš©í•˜ì§€ë§Œ, ì½”í‹€ë¦° ì—ì„œëŠ”

``` kotlin
person.isMarried = false
```
ë¥¼ ì“´ë‹¤.

## 2.2.2 ì»¤ìŠ¤í…€ ì ‘ê·¼ì
ì§ì‚¬ê°í˜• í´ë˜ìŠ¤ `Rectangle` ì„ ì •ì˜í•˜ë©° ìì‹ ì´ ì •ì‚¬ê°í˜•ì¸ì§€ ì•Œë ¤ì£¼ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ì•¼ í•¨.
-> ì§ì‚¬ê°í˜•ì´ ì •ì‚¬ê°í˜•ì¸ì§€ë¥¼ ë³„ë„ì˜ í•„ë“œì— ì €ì¥í•  í•„ìš” X

``` kotlin
class Rectangle(val height: Int, val width: Int) {
    val isSquare: Boolean 
        get( ) {  // í”„ë¡œí¼í‹° ê²Œí„° ì„ ì–¸
            return height == width
        }
}
``` 

``` kotlin
val rectangle = Rectangle(41, 43)
println(rectangle.isSqaure) // false
```

# 2.3 ì„ íƒ í‘œí˜„ê³¼ ì²˜ë¦¬ - enumê³¼ when
`when` ì€ ìë°”ì˜ `switch`ë¥¼ ëŒ€ì¹˜í•˜ë˜ ë” ê°•ë ¥í•˜ë‹¤.

## 2.3.1 enum ì •ì˜
``` kotlin
enum class Color {
    RED, YELLOW, BLUE
}
```
ì½”í‹€ë¦°ì—ì„œ `enum` ì€ `ì†Œí”„íŠ¸ í‚¤ì›Œë“œ` ë¼ê³  ë¶€ë¥´ëŠ” ì¡´ì¬ì¸ë°, `class` í‚¤ì›Œë“œ ì•ì— ìˆì„ ë•Œë§Œ íŠ¹ë³„í•œ ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì´ë¦„ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

``` kotlin
enum class Color(val r: Int, var g: Int, var b: Int) {
    RED(255, 0, 0),
    YELLOW(255, 255, 0), 
    BLUE(0, 0, 255)

    fun rgb() = (r * 256 + g) * 256 + b
}

>>> println(Color.BLUE.rgb()) // 255
```

### 2.3.2 `when` ìœ¼ë¡œ `enum` ë‹¤ë£¨ê¸°
__`when`ì„ ì‚¬ìš©í•´ ì˜¬ë°”ë¥¸ `enum` ì°¾ê¸°__

``` kotlin
fun getMnemonic(color: Color) {
    when (color) {
        Color.RED -> "Richard"
        Color.BLUE -> "Battle"
        Color.YELLOW -> "York"
    }
}

>>> println(getMnemonic(Color.BLUE)) // Battle
```

ìœ„ ì½”ë“œëŠ” color ë¡œ ì „ë‹¬ëœ ê°’ê³¼ ê°™ì€ ë¶„ê¸°ë¥¼ ì°¾ëŠ”ë‹¤. ìë°”ì™€ ë‹¬ë¦¬ __ê° ë¶„ê¸°ì˜ ëì— `break` ë¥¼ ë„£ì§€ ì•Šì•„ë„ ëœë‹¤!__

ì„±ê³µì ìœ¼ë¡œ ë§¤ì¹˜ë˜ëŠ” ë¶„ê¸°ë¥¼ ì°¾ìœ¼ë©´ switchëŠ” ê·¸ ë¶„ê¸°ë¥¼ ì‹¤í–‰í•œë‹¤.

``` kotlin
fun getWarmth(color : Color) = when(color) {
    Color.RED, Color.YELLOW -> "warm"
    Color.GREEN -> "neutral"
    Color.BLUE, Color.INDIGO -> "cold"
}

println(getWarmth(Color.ORANGE))
```
### 2.3.3 `when` ê³¼ ì„ì˜ì˜ ê°ì²´ë¥¼ í•¨ê»˜ ì‚¬ìš©
ë¶„ê¸° ì¡°ê±´ì—ì„œ ìƒìˆ˜(enum or ìˆ«ì ë¦¬í„°ëŸ´) ë§Œ ì‚¬ìš© ê°€ëŠ¥í•œ ìë°” `switch` ì™€ëŠ” ë‹¬ë¦¬,ì½”í‹€ë¦°ì˜ `when` ì€ ì„ì˜ì˜ ê°ì²´ë¥¼ í—ˆìš©í•œë‹¤.

> ë‘ ìƒ‰ì„ í˜¼í•©í–ˆì„ ë•Œ, ë¯¸ë¦¬ ì •í•´ì§„ íŒ”ë ˆíŠ¸ì— ë“¤ì–´ìˆëŠ” ìƒ‰ì´ ë  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ë³´ì!

``` kotlin
fun mix(c1: Color, c2: Color) = 
    when(setOf(c1, c2)) {
        setOf(RED, YELLOW) -> ORANGE
        setOf(YELLOW, BLUI) -> GREEN
        setOf(BLUE, VIOLET) -> INDIGO
        else -> throw Exception("Dirty Color")
    }

>>> println(mix(BLUE, GREEN)) // YELLOW
```

`when` ì˜ ë¶„ê¸° ì¡°ê±´ ë¶€ë¶„ì—ëŠ” _ì‹_ ì„ ë„£ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë§ì€ ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

### 2.3.4 ì¸ì ì—†ëŠ” when ì‚¬ìš©
ì¸ì ì—†ëŠ” when ì‹ì„ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ ë§‰ì•„ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. (ì½”ë“œì˜ ê°€ë…ì„±ì€ ë” ë–¨ì–´ì§€ì§€ë§Œ ... ğŸ‘€)
``` kotlin
fun mixOptimized(c1: Color, c2: Color) =
    when {
        (c1 == RED && c2 == YELLOW) ||
        (c1 ==YELLOW && c2 == RED) ->
            ORANGE
        
        (c1 == YELLOW && c2 == BLUE) ||
        (c1 == BLUE && c1 == YELLOW) ->
            GREEN
        else -> throw Exception("Dirty Color")
    }

>> println(mixOptimized(BLUE, YELLOW)) // GREEN
```



